<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>pagination</title>
  </head>
  <body>
    <nav
      th:fragment="pagination(pagination, label)"
      th:with="page=${pagination.page}"
      th:aria-label="${label}"
    >
      <ul class="list-none m-0 p-0 flex flex-row gap-x-2 gap-y-4 flex-wrap">
        <li th:if="${not page.first && page.totalPages > 7}">
          <a
            href="#"
            th:href="${pagination.hrefForPage(page.number)}"
            class="block py-1 text-current no-underline flex items-center print:no-link"
          >
            <svg
              th:replace="icons/chevron-left::svg(className='w-6 h-6')"
            ></svg>
            <span class="sr-only" th:text="#{pagination.page.previous}"></span>
          </a>
        </li>
        <li th:with="isSelected=${page.first}">
          <a
            href="#"
            th:href="${pagination.hrefForPage(1)}"
            class="block px-4 py-1 no-underline text-gray-600 rounded-md border transition-colors print:no-link"
            th:classappend="${isSelected ? 'border-gray-600' : 'border-gray-300 hover:border-gray-400 focus:border-gray-400'}"
            th:attr="aria-current=${isSelected ? 'page' : ''}"
            th:aria-label="#{pagination.page('1')}"
          >
            1
          </a>
        </li>
        <li
          th:if="${page.totalPages > 7 && page.number > 2}"
          role="presentation"
          class="px-4 py-1"
        >
          …
        </li>
        <th:block
          th:each="pageNumber : ${paginationPageNumbers}"
          th:with="isSelected=${pageNumber == page.number + 1}"
        >
          <li
            th:if="${not pageNumberStat.first && not pageNumberStat.last && (page.totalPages <= 7 || pageNumber == page.number || pageNumber == page.number + 1 || pageNumber == page.number + 2)}"
          >
            <a
              href="#"
              th:href="${pagination.hrefForPage(pageNumber)}"
              class="block px-4 py-1 no-underline text-gray-600 rounded-md border transition-colors print:no-link"
              th:classappend="${isSelected ? 'border-gray-600' : 'border-gray-300 hover:border-gray-400 focus:border-gray-400'}"
              th:text="${pageNumber}"
              th:attr="aria-current=${isSelected ? 'page' : ''}"
              th:aria-label="${pageNumberStat.last ? #messages.msg('pagination.page.last', pageNumber) : #messages.msg('pagination.page', pageNumber)}"
            >
              2
            </a>
          </li>
        </th:block>
        <li
          th:if="${page.totalPages > 7 && page.number < page.totalPages - 3}"
          role="presentation"
          class="px-4 py-1"
        >
          …
        </li>
        <li th:if="${page.totalPages > 1}" th:with="isSelected=${page.last}">
          <a
            href="#"
            th:href="${pagination.hrefForPage(page.totalPages)}"
            class="block px-4 py-1 no-underline text-gray-600 rounded-md border transition-colors print:no-link"
            th:classappend="${isSelected ? 'border-gray-600' : 'border-gray-300 hover:border-gray-400 focus:border-gray-400'}"
            th:text="${page.totalPages}"
            th:attr="aria-current=${isSelected ? 'page' : ''}"
            th:aria-label="#{pagination.page.last(${page.totalPages})}"
          >
            3
          </a>
        </li>
        <li th:if="${page.totalPages > 7 && not page.last}">
          <a
            href="#"
            th:href="${pagination.hrefForPage(page.number + 2)}"
            class="block py-1 text-current no-underline flex items-center print:no-link"
          >
            <span class="sr-only" th:text="#{pagination.page.next}"></span>
            <svg
              th:replace="icons/chevron-right::svg(className='w-6 h-6')"
            ></svg>
          </a>
        </li>
      </ul>
    </nav>
  </body>
</html>
